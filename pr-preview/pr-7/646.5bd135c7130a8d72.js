"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[646],{646:(rt,K,l)=>{l.r(K),l.d(K,{AnimeModule:()=>at});var T=l(89),X=l(2355),M=l(7513),pe=l(3058),w=l(7250),ee=l(7455),x=l(6652),te=l(8090),ne=l(2074),F=l(2369),ie=l(2151),b=l(1300),k=l(6738),e=l(4355),c=(()=>((c=c||{}).Tv="TV",c.Ova="OVA",c.Movie="MOVIE",c.Special="SPECIAL",c.Ona="ONA",c.Music="MUSIC",c.Unknown="UNKNOWN",c))(),y=(()=>((y=y||{}).Finished="FINISHED",y.Airing="AIRING",y.NotYetAired="NOT_YET_AIRED",y))();class fe{constructor(i){this.id=i.id,this.titleEnglish=i.titleEnglish,this.titleJapanese=i.titleJapanese,this.imageUrl=i.imageUrl,this.type=i.type,this.status=i.status,this.aired=i.aired}}var f=(()=>((f=f||{}).Finished="FINISHED",f.Airing="AIRING",f.NotYetAired="NOT_YET_AIRED",f))();!function(n){const i={[n.Finished]:"Finished",[n.Airing]:"Airing",[n.NotYetAired]:"Not yet aired"};n.toReadable=function t(a){return null!=a?i[a]:null}}(f||(f={}));var Y,L,n,s=(()=>((s=s||{}).Tv="TV",s.Ova="OVA",s.Movie="MOVIE",s.Special="SPECIAL",s.Ona="ONA",s.Music="MUSIC",s.Unknown="UNKNOWN",s))();!function(n){const i={[n.Movie]:"Movie",[n.Music]:"Music",[n.Ona]:"Ona",[n.Ova]:"Ova",[n.Special]:"Special",[n.Tv]:"Tv",[n.Unknown]:"Unknown"};n.toReadable=function t(a){return null!=a?i[a]:null}}(s||(s={})),(Y||(Y={})).fromDto=function i(t){return{start:t.start?new Date(t.start):null,end:t.end?new Date(t.end):null}},(n=L||(L={})).ANIME_TYPE_FROM_DTO={[c.Music]:s.Music,[c.Ova]:s.Ova,[c.Ona]:s.Ona,[c.Special]:s.Special,[c.Tv]:s.Tv,[c.Unknown]:s.Unknown,[c.Movie]:s.Movie},n.ANIME_STATUS_FROM_DTO={[y.Finished]:f.Finished,[y.NotYetAired]:f.NotYetAired,[y.Airing]:f.Airing},n.fromDto=function i(t){return new fe({id:t.id,titleEnglish:t.title_eng,titleJapanese:t.title_jpn,imageUrl:t.image,type:n.ANIME_TYPE_FROM_DTO[t.type],status:n.ANIME_STATUS_FROM_DTO[t.status],aired:Y.fromDto(t.aired)})};var V,z,B,q,R=l(7969),h=(()=>((h=h||{}).TitleEnghlish="titleEnglish",h.Status="status",h.AiredStart="aired.start",h.None="",h))(),S=(()=>((S=S||{}).TitleEnghlish="title_eng",S.Status="status",S.AiredStart="aired__startswith",S.None="",S))(),U=(()=>((U=U||{}).Ascending="-",U.Descending="",U.None="",U))(),v=(()=>((v=v||{}).Ascending="asc",v.Descending="desc",v.None="",v))();!function(n){const i={[v.Ascending]:U.Ascending,[v.Descending]:U.Descending,[v.None]:U.None};n.toDto=function t(a,m){if(null!=a&&a?.field in m)return`${i[a.direction]}${m[a.field]}`}}(V||(V={})),function(n){n.ANIME_TYPE_TO_DTO={[s.Music]:c.Music,[s.Ova]:c.Ova,[s.Ona]:c.Ona,[s.Special]:c.Special,[s.Tv]:c.Tv,[s.Unknown]:c.Unknown,[s.Movie]:c.Movie},n.toDto=function i(t){return t.map(a=>n.ANIME_TYPE_TO_DTO[a]).join(", ")}}(z||(z={})),function(n){const t={[h.TitleEnghlish]:S.TitleEnghlish,[h.Status]:S.Status,[h.AiredStart]:S.AiredStart},a={[f.Finished]:y.Finished,[f.NotYetAired]:y.NotYetAired,[f.Airing]:y.Airing};n.toDto=function m(u){return function _e(n){const i={...n};for(const t in i)void 0===i[t]&&delete i[t];return i}({limit:u?.pageSize??25,offset:u?.pageNumber?u.pageNumber*(u?.pageSize??25):void 0,ordering:V.toDto(u?.ordering,t),search:u?.search,status:u?.status?a[u.status]:void 0,type__in:u?.typeIn?z.toDto(u.typeIn):void 0})}}(B||(B={})),function(n){n.fromDto=function i(t,a){return{count:t.count,next:t.next,previous:t.previous,items:t.results.map(m=>a(m))}}}(q||(q={}));var _=(()=>((_=_||{}).Summer="Summer",_.Winter="Winter",_.Spring="Spring",_.Fall="Fall",_.NonSeasonal="NonSeasonal",_))();!function(n){const i={[n.Fall]:"Fail",[n.NonSeasonal]:"Non seasonal",[n.Spring]:"Spring",[n.Summer]:"Summer",[n.Winter]:"Winter"};n.toReadable=function t(a){return null!=a?i[a]:null}}(_||(_={}));var g=(()=>((g=g||{}).G="G",g.PG="PG",g.PG_13="PG_13",g.R_17="R_17",g.R_PLUS="R_PLUS",g.R_X="R_X",g.Unknown="UNKNOWN",g))();!function(n){const i={[n.G]:"G",[n.PG]:"PG",[n.PG_13]:"PG-17",[n.R_17]:"R-17",[n.R_PLUS]:"R-PLUS",[n.R_X]:"R-X",[n.Unknown]:"Unknown"};n.toReadable=function t(a){return i[a]}}(g||(g={}));var o=(()=>((o=o||{}).FourKomaManga="FourKomaManga",o.Book="Book",o.CardGame="CardGame",o.Game="Game",o.LightNovel="LightNovel",o.Manga="Manga",o.MixedMedia="MixedMedia",o.Music="Music",o.Novel="Novel",o.Original="Original",o.PictureBook="PictureBook",o.Radio="Radio",o.VisialNovel="VisualNovel",o.WebManga="WebManga",o.WebNovel="WebNovel",o.Other="Other",o.Unknown="Unknown",o))();!function(n){const i={[n.Book]:"Book",[n.CardGame]:"Card game",[n.FourKomaManga]:"Four koma manga",[n.Game]:"Game",[n.LightNovel]:"Light novel",[n.Manga]:"Manga",[n.MixedMedia]:"Mixed Media",[n.Music]:"Music",[n.Novel]:"Novel",[n.Original]:"Original",[n.Other]:"Other",[n.PictureBook]:"Picture book",[n.WebNovel]:"Web novel",[n.WebManga]:"Web manga",[n.Radio]:"Radio",[n.Unknown]:"Unknown",[n.VisialNovel]:"Visial novel"};n.toReadable=function t(a){return null!=a?i[a]:null}}(o||(o={}));var Q,j,J,A=(()=>((A=A||{}).Summer="SUMMER",A.Winter="WINTER",A.Spring="SPRING",A.Fall="FALL",A.NonSeasonal="NON_SEASONAL",A))(),r=(()=>((r=r||{}).FourKomaManga="FOUR_KOMA_MANGA",r.Book="BOOK",r.CardGame="CARD_GAME",r.Game="GAME",r.LightNovel="LIGHT_NOVEL",r.Manga="MANGA",r.MixedMedia="MIXED_MEDIA",r.Music="MUSIC",r.Novel="NOVEL",r.Original="ORIGINAL",r.PictureBook="PICTURE_BOOK",r.Radio="RADIO",r.VisialNovel="VISUAL_NOVEL",r.WebManga="WEB_MANGA",r.WebNovel="WEB_NOVEL",r.Other="OTHER",r.Unknown="UNKNOWN",r))(),p=(()=>((p=p||{}).G="G",p.PG="PG",p.PG_13="PG_13",p.R_17="R_17",p.R_PLUS="R_PLUS",p.R_X="R_X",p.Unknown="UNKNOWN",p))(),O=(()=>((O=O||{}).Demographics="DEMOGRAPHICS",O.ExplicitGenres="EXPLICIT_GENRES",O.Themes="THEMES",O.Genres="GENRES",O))(),P=(()=>((P=P||{}).Demographics="Demographics",P.ExplicitGenres="ExplicitGenres",P.Themes="Themes",P.Genres="Genres",P))();!function(n){const i={[O.Demographics]:P.Demographics,[O.ExplicitGenres]:P.ExplicitGenres,[O.Genres]:P.Genres,[O.Themes]:P.Themes};n.fromDto=function t(a){return{id:a.id,created:new Date(a.created),modified:new Date(a.modified),name:a.name,type:i[a.type]}}}(Q||(Q={})),function(n){n.fromDto=function i(t){return{id:t.id,created:new Date(t.created),modified:new Date(t.modified),name:t.name}}}(j||(j={})),function(n){n.ANIME_RATING_FROM_DTO={[p.G]:g.G,[p.PG]:g.PG,[p.PG_13]:g.PG_13,[p.R_17]:g.R_17,[p.R_PLUS]:g.R_PLUS,[p.R_X]:g.R_X,[p.Unknown]:g.Unknown},n.SEASON_FROM_DTO={[A.Fall]:_.Fall,[A.NonSeasonal]:_.NonSeasonal,[A.Spring]:_.Spring,[A.Summer]:_.Summer,[A.Winter]:_.Winter},n.SOURCE_FROM_DTO={[r.Book]:o.Book,[r.CardGame]:o.CardGame,[r.FourKomaManga]:o.FourKomaManga,[r.Game]:o.Game,[r.LightNovel]:o.LightNovel,[r.Manga]:o.Manga,[r.MixedMedia]:o.MixedMedia,[r.Music]:o.Music,[r.Novel]:o.Novel,[r.Original]:o.Original,[r.Other]:o.Other,[r.PictureBook]:o.PictureBook,[r.WebNovel]:o.WebNovel,[r.WebManga]:o.WebManga,[r.VisialNovel]:o.VisialNovel,[r.Unknown]:o.Unknown,[r.Radio]:o.Radio},n.fromDto=function i(t){return{...L.fromDto({id:t.id,aired:t.aired,image:t.image,status:t.status,title_eng:t.title_eng,title_jpn:t.title_jpn,type:t.type}),airing:t.airing,created:new Date(t.created),genresData:t.genres_data.map(a=>Q.fromDto(a)),modified:new Date(t.modified),rating:n.ANIME_RATING_FROM_DTO[t.rating],season:n.SEASON_FROM_DTO[t.season],source:n.SOURCE_FROM_DTO[t.source],studiosData:t.studios_data.map(a=>j.fromDto(a)),synopsis:t.synopsis,trailerYoutubeUrl:t.trailer_youtube_id?`https://www.youtube.com/embed/${t.trailer_youtube_id}`:null}}}(J||(J={}));var he=l(5134);let W=(()=>{class n{constructor(){this.httpService=(0,e.f3M)(k.eN),this.urlService=(0,e.f3M)(he.i)}getAnimes(t){return this.httpService.get(this.urlService.animeUrls.animes,{params:new k.LE({fromObject:{...B.toDto(t)}})}).pipe((0,R.U)(a=>q.fromDto(a,L.fromDto)))}getAnime(t){return this.httpService.get(this.urlService.animeUrls.animesDetail(t)).pipe((0,R.U)(a=>J.fromDto(a)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var D=l(2227),Z=l(6789),ae=l(8987),Ae=l(7881);function Te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.handleLogout())}),e.TgZ(1,"mat-icon",6),e._uU(2,"logout"),e.qZA()()}}function ye(n,i){1&n&&(e.TgZ(0,"a",7)(1,"mat-icon",8),e._uU(2,"login"),e.qZA()())}let oe=(()=>{class n{constructor(){this.userService=(0,e.f3M)(ae.K),this.destroyRef=(0,e.f3M)(e.ktI),this.router=(0,e.f3M)(Z.F0),this.isAuthorized$=this.userService.isAuthorized$}handleLogout(){this.userService.logout().pipe((0,Ae.sL)(this.destroyRef)).subscribe(()=>{this.router.navigate(["auth/login"])})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-base-page"]],decls:10,vars:4,consts:[[1,"header"],[1,"header__title"],["routerLink","/",1,"header__title-link"],["mat-icon-button","","type","button","class","header__button",3,"click",4,"ngIf","ngIfElse"],["login",""],["mat-icon-button","","type","button",1,"header__button",3,"click"],["color","accent","aria-label","Logout"],["mat-icon-button","","routerLink","/auth/login",1,"header__link"],["color","accent","aria-label","Login"]],template:function(t,a){if(1&t&&(e.TgZ(0,"header",0)(1,"h2",1)(2,"a",2),e._uU(3," AnimeHub "),e.qZA()(),e.YNc(4,Te,3,0,"button",3),e.ALo(5,"async"),e.YNc(6,ye,3,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(8,"main"),e._UZ(9,"router-outlet"),e.qZA()),2&t){const m=e.MAs(7);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,a.isAuthorized$))("ngIfElse",m)}},dependencies:[T.O5,Z.lC,Z.rH,ie.Hw,b.o6,b.RK,T.Ov],styles:[".header[_ngcontent-%COMP%]{background-color:var(--primary-alternative-contrast-color);padding:var(--space-md);display:flex;justify-content:space-between;align-items:center}.header__title-link[_ngcontent-%COMP%], .header__title-link[_ngcontent-%COMP%]:visited{text-decoration:none;color:var(--primary-contrast-color)}.header__title-link[_ngcontent-%COMP%]:hover{color:var(--font-hover-color)}.header__title[_ngcontent-%COMP%]{margin:0}"]}),n})();var C,$=l(4121),Ne=l(2147),H=l(8168),Me=l(3151),re=l(1528);!function(n){function i(d){const N=Number(d);return Number.isNaN(N)?{pageNumber:n.defaultQueryParams.pageNumber,isValid:!1}:{pageNumber:N,isValid:!0}}function t(d){const N=Number(d);return Number.isNaN(N)||!n.pageSizes.includes(N)?{pageSize:n.defaultQueryParams.pageSize,isValid:!1}:{pageSize:N,isValid:!0}}function a(d){return d instanceof Array?{search:n.defaultQueryParams.search,isValid:!1}:{search:d,isValid:!0}}function m(d){const N=d instanceof Array?d:[d],I=N.filter(G=>Object.values(s).includes(G));return{isValid:I.length===N.length,type:I}}function u(d){return Object.values(h).includes(d)?{field:d,isValid:!0}:{field:h.None,isValid:!1}}function E(d){return Object.values(v).includes(d)?{direction:d,isValid:!0}:{direction:v.None,isValid:!1}}n.defaultQueryParams={pageSize:5,pageNumber:0,type:[],field:h.None,direction:v.None,search:""},n.pageSizes=[5,10,25],n.pageToModel=i,n.sizeToModel=t,n.searchToModel=a,n.typeToModel=m,n.fieldToModel=u,n.directionToModel=E,n.toModel=function ot(d){const N=i(d.pageNumber),I=t(d.pageSize),G=u(d.field),ue=m(d.type),de=a(d.search),ge=E(d.direction);return{isValid:N.isValid&&I.isValid&&G.isValid&&ue.isValid&&de.isValid&&ge.isValid,pageNumber:N.pageNumber,pageSize:I.pageSize,field:G.field,type:ue.type,search:de.search,direction:ge.direction}}}(C||(C={}));var se=l(4707);function le(n){return i=>i.pipe((0,H.b)({next:()=>n.next(!0)}))}var ce=l(2519),Pe=l(9024);let me=(()=>{class n{transform(t){return""===t||null==t||t instanceof Array&&0===t.length?"Unknown":t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"empty",type:n,pure:!0}),n})();function Se(n,i){if(1&n&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function De(n,i){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Image"),e.qZA())}function Ze(n,i){if(1&n&&(e.TgZ(0,"td",26),e._UZ(1,"img",27),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("alt",t.titleEnglish)("src",t.imageUrl,e.LSH)}}function Ue(n,i){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Japanese Title"),e.qZA())}function Ce(n,i){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.titleJapanese)," ")}}function xe(n,i){1&n&&(e.TgZ(0,"th",28),e._uU(1,"English Title"),e.qZA())}function be(n,i){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.titleEnglish)," ")}}function Ee(n,i){1&n&&(e.TgZ(0,"th",29),e._uU(1,"Start"),e.qZA())}function Re(n,i){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.ALo(3,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.aired.start))," ")}}function Ie(n,i){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Status"),e.qZA())}function Le(n,i){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(1),e.Oqu(a.animeStatus.toReadable(t.status))}}function Ge(n,i){1&n&&(e.TgZ(0,"th",25),e._uU(1,"Type"),e.qZA())}function we(n,i){if(1&n&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(1),e.Oqu(a.animeType.toReadable(t.type))}}function Fe(n,i){1&n&&e._UZ(0,"tr",31)}function ke(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const u=e.CHM(t).$implicit,E=e.oxw(2);return e.KtG(E.navigateToDetails(u))}),e.qZA()}}function Ye(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"table",10),e.NdJ("matSortChange",function(m){e.CHM(t);const u=e.oxw();return e.KtG(u.changeSortParameter(m))}),e.ynx(2,11),e.YNc(3,De,2,0,"th",12),e.YNc(4,Ze,2,2,"td",13),e.BQk(),e.ynx(5,14),e.YNc(6,Ue,2,0,"th",12),e.YNc(7,Ce,3,3,"td",13),e.BQk(),e.ynx(8,15),e.YNc(9,xe,2,0,"th",16),e.YNc(10,be,3,3,"td",13),e.BQk(),e.ynx(11,17),e.YNc(12,Ee,2,0,"th",18),e.YNc(13,Re,4,5,"td",13),e.BQk(),e.ynx(14,19),e.YNc(15,Ie,2,0,"th",20),e.YNc(16,Le,2,1,"td",13),e.BQk(),e.ynx(17,21),e.YNc(18,Ge,2,0,"th",12),e.YNc(19,we,2,1,"td",13),e.BQk(),e.YNc(20,Fe,1,0,"tr",22),e.YNc(21,ke,1,0,"tr",23),e.qZA(),e.TgZ(22,"mat-paginator",24),e.NdJ("page",function(m){e.CHM(t);const u=e.oxw();return e.KtG(u.setPageParameter(m))}),e.qZA(),e.BQk()}if(2&n){const t=i.ngIf,a=e.oxw();e.xp6(1),e.Q6J("trackBy",a.trackByAnime)("dataSource",t.items)("matSortActive",a.queryParams.field)("matSortDirection",a.queryParams.direction),e.xp6(19),e.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("length",t.count)("pageSize",a.queryParams.pageSize)("pageIndex",a.queryParams.pageNumber)("pageSizeOptions",a.pageSizes)}}function Ve(n,i){1&n&&e._UZ(0,"camp-spinner",33)}let ze=(()=>{class n{constructor(){this.router=(0,e.f3M)(Z.F0),this.animeService=(0,e.f3M)(W),this.formBuilder=(0,e.f3M)(x.j3),this.activeRoute=(0,e.f3M)(Z.gz),this.pageSizes=C.pageSizes,this.isLoading$=new $.X(!1),this.animeStatus=f,this.animeType=s,this.form=this.formBuilder.group({search:[C.defaultQueryParams.search],filters:[C.defaultQueryParams.type]}),this.displayedColumns=["image","titleJapanese","titleEnglish","start aired","type","status"],this.filters=[s.Tv,s.Ova,s.Movie,s.Special,s.Ona,s.Music,s.Unknown],this.animePage$=this.createAnimesStream()}trackByAnime(t,a){return a.id}changeSortParameter(t){const a=C.fieldToModel(t.active),m=C.directionToModel(t.direction);this.setQueryParams({direction:m.direction,field:m.direction===v.None?h.None:a.field})}setPageParameter(t){const a=this.queryParams;this.setQueryParams({pageNumber:t.pageIndex??a.pageNumber,pageSize:t.pageSize??a.pageSize})}setPaginationParameters(){this.setQueryParams({search:this.form.value.search,type:this.form.value.filters,pageNumber:C.defaultQueryParams.pageNumber})}navigateToDetails(t){this.router.navigate(["animes/",t.id])}get queryParams(){const t=this.activeRoute.snapshot.queryParams;return{search:t.search,type:t.type,pageNumber:t.pageNumber,pageSize:t.pageSize,field:t.field,direction:t.direction}}setQueryParams(t){const a=this.router.url.split("?").at(0);this.router.navigate([a],{queryParams:{...this.queryParams,...t}})}createAnimesStream(){return this.activeRoute.queryParams.pipe((0,Ne.x)(),(0,R.U)(t=>this.mapQueryParamsToModel(t)),(0,H.b)(({isValid:t,params:a})=>{t||this.setQueryParams(a),this.setFormValues(a)}),le(this.isLoading$),(0,Me.b)(500),(0,re.w)(({params:t})=>this.getAnimePage(t)),(0,se.f)(this.isLoading$),(0,H.b)(()=>{window.scroll({top:0,behavior:"smooth"})}))}mapQueryParamsToModel(t){const a=C.toModel({search:t.search,type:t.type,pageNumber:t.pageNumber,pageSize:t.pageSize,field:t.field,direction:t.direction}),{isValid:m,...u}=a;return{params:u,isValid:a.isValid}}getAnimePage(t){return this.animeService.getAnimes({pageSize:t.pageSize,pageNumber:t.pageNumber,ordering:{field:t.field,direction:t.direction},search:t.search,typeIn:t.type})}setFormValues(t){this.form.patchValue({search:t.search,filters:t.type})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-anime-page"]],decls:17,vars:8,consts:[[1,"animes"],[1,"animes__form","form",3,"formGroup","ngSubmit"],["color","accent"],["formControlName","search","matInput",""],["formControlName","filters","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","","color","accent"],[4,"ngIf"],["class","animes__spinner",4,"ngIf"],[3,"value"],["matSort","","mat-table","","aria-label","Table of animes",1,"animes__table","table",3,"trackBy","dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","titleJapanese"],["matColumnDef","titleEnglish"],["mat-sort-header","titleEnglish","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","start aired"],["mat-sort-header","aired.start","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-sort-header","status","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","table__row","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Anime search results",1,"animes__paginator",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"table__image",3,"alt","src"],["mat-sort-header","titleEnglish","mat-header-cell",""],["mat-sort-header","aired.start","mat-header-cell",""],["mat-sort-header","status","mat-header-cell",""],["mat-header-row",""],["mat-row","",1,"table__row",3,"click"],[1,"animes__spinner"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return a.setPaginationParameters()}),e.TgZ(2,"mat-form-field",2)(3,"mat-label",2),e._uU(4,"Search"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"Filters"),e.qZA(),e.TgZ(9,"mat-select",4),e.YNc(10,Se,2,2,"mat-option",5),e.qZA()(),e.TgZ(11,"button",6),e._uU(12,"Find"),e.qZA()(),e.YNc(13,Ye,23,11,"ng-container",7),e.ALo(14,"async"),e.YNc(15,Ve,1,0,"camp-spinner",8),e.ALo(16,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(9),e.Q6J("ngForOf",a.filters),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,4,a.animePage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(16,6,a.isLoading$)))},dependencies:[T.sg,T.O5,ce.O,M.BZ,M.fO,M.as,M.w1,M.Dz,M.nj,M.ge,M.ev,M.XQ,M.Gk,w.YE,w.nU,ee.NW,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,F.KE,F.hX,ne.Nt,te.gD,Pe.ey,b.lW,T.Ov,T.uU,me],styles:[".table__image[_ngcontent-%COMP%]{margin:10px;width:150px;height:150px;object-fit:contain}.animes[_ngcontent-%COMP%]{background-color:var(--background-primary-color)}.animes__form[_ngcontent-%COMP%]{padding:var(--space-md);margin:0 auto}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}.animes__paginator[_ngcontent-%COMP%]{position:sticky;bottom:0}.animes__spinner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:100;background-color:var(--background-alternative-primary-color)}.table__row[_ngcontent-%COMP%]{cursor:pointer}tr.table__row[_ngcontent-%COMP%]:hover{background-color:var(--background-alternative-primary-color)}"],changeDetection:0}),n})();var Be=l(3568),qe=l(3787);let Qe=(()=>{class n{constructor(){this.errorDialogMessage=(0,e.f3M)(D.WI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-error-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","center"],["mat-raised-button","","type","button","mat-dialog-close",""]],template:function(t,a){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Opps... An error has occurred"),e.qZA(),e.TgZ(2,"p",1),e._uU(3),e.qZA(),e.TgZ(4,"mat-dialog-actions",2)(5,"button",3),e._uU(6,"Close"),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(a.errorDialogMessage.message))},dependencies:[D.ZT,D.uh,D.xY,D.H8,b.lW],changeDetection:0}),n})(),je=(()=>{class n{constructor(){this.errorDialog=(0,e.f3M)(D.uw)}openDialog(t){return this.errorDialog.open(Qe,{data:{message:t}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n{constructor(){this.imageDialogData=(0,e.f3M)(D.WI)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-image-dialog"]],decls:2,vars:2,consts:[[1,"image",3,"alt","src"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"img",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("alt",a.imageDialogData.titleEnglish)("src",a.imageDialogData.imageUrl,e.LSH))},dependencies:[D.xY],styles:[".image[_ngcontent-%COMP%]{outline:1px solid var(--image-outline-color)}"],changeDetection:0}),n})();var We=l(3623);function $e(n,i){1&n&&e._UZ(0,"iframe",1),2&n&&e.Q6J("src",i.ngIf,e.uOi)}let He=(()=>{class n{constructor(){this.saveVideoUrl$=new $.X(null),this.sanitizer=(0,e.f3M)(We.H7)}set videoUrl(t){null!=t&&this.saveVideoUrl$.next(this.sanitizer.bypassSecurityTrustResourceUrl(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-video-player"]],inputs:{videoUrl:"videoUrl"},decls:2,vars:3,consts:[["allowfullscreen","","class","video","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","title","YouTube video player",3,"src",4,"ngIf"],["allowfullscreen","","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","title","YouTube video player",1,"video",3,"src"]],template:function(t,a){1&t&&(e.YNc(0,$e,1,1,"iframe",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,a.saveVideoUrl$))},dependencies:[T.O5,T.Ov],styles:[".video[_ngcontent-%COMP%]{display:block;width:560px;height:315px}"],changeDetection:0}),n})(),Ke=(()=>{class n{transform(t){return t?"Yes":"No"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"yesOrNo",type:n,pure:!0}),n})();function Xe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e._uU(2),e.ALo(3,"empty"),e.qZA(),e.TgZ(4,"h2",3),e._uU(5),e.ALo(6,"empty"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"img",6),e.TgZ(10,"button",7),e.NdJ("click",function(){const u=e.CHM(t).ngIf,E=e.oxw();return e.KtG(E.openDialog(u.imageUrl,u.titleEnglish))}),e._uU(11," Open image "),e.qZA()(),e.TgZ(12,"article",8)(13,"p",9)(14,"span",10),e._uU(15,"Season:"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p",9)(18,"span",10),e._uU(19,"Synopsis:"),e.qZA(),e._uU(20),e.ALo(21,"empty"),e.qZA(),e.TgZ(22,"p",9)(23,"span",10),e._uU(24,"Airing:"),e.qZA(),e._uU(25),e.ALo(26,"empty"),e.ALo(27,"yesOrNo"),e.qZA(),e.TgZ(28,"p",9)(29,"span",10),e._uU(30,"Date start:"),e.qZA(),e._uU(31),e.ALo(32,"empty"),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"p",9)(35,"span",10),e._uU(36,"Date end:"),e.qZA(),e._uU(37),e.ALo(38,"empty"),e.ALo(39,"date"),e.qZA(),e.TgZ(40,"p",9)(41,"span",10),e._uU(42,"Genres:"),e.qZA(),e._uU(43),e.ALo(44,"empty"),e.qZA(),e.TgZ(45,"p",9)(46,"span",10),e._uU(47,"Studios:"),e.qZA(),e._uU(48),e.ALo(49,"empty"),e.qZA(),e.TgZ(50,"p",9)(51,"span",10),e._uU(52,"Rating:"),e.qZA(),e._uU(53),e.ALo(54,"empty"),e.qZA(),e.TgZ(55,"p",9)(56,"span",10),e._uU(57,"Source:"),e.qZA(),e._uU(58),e.ALo(59,"empty"),e.qZA(),e.TgZ(60,"p",9)(61,"span",10),e._uU(62,"Type:"),e.qZA(),e._uU(63),e.ALo(64,"empty"),e.qZA(),e.TgZ(65,"p",9)(66,"span",10),e._uU(67,"Status:"),e.qZA(),e._uU(68),e.ALo(69,"empty"),e.qZA(),e.TgZ(70,"p",9)(71,"span",10),e._uU(72,"Created:"),e.qZA(),e._uU(73),e.ALo(74,"empty"),e.ALo(75,"date"),e.qZA(),e.TgZ(76,"p",9)(77,"span",10),e._uU(78,"Modified:"),e.qZA(),e._uU(79),e.ALo(80,"empty"),e.ALo(81,"date"),e.qZA(),e._UZ(82,"camp-video-player",11),e.qZA()()()}if(2&n){const t=i.ngIf,a=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,18,t.titleEnglish)),e.xp6(3),e.Oqu(e.lcZ(6,20,t.titleJapanese)),e.xp6(4),e.Q6J("alt",t.titleEnglish)("src",t.imageUrl,e.LSH),e.xp6(7),e.hij(" ",a.season.toReadable(t.season)," "),e.xp6(4),e.hij(" ",e.lcZ(21,22,t.synopsis)," "),e.xp6(5),e.hij(" ",e.lcZ(26,24,e.lcZ(27,26,t.airing))," "),e.xp6(6),e.hij(" ",e.lcZ(32,28,e.lcZ(33,30,t.aired.start))," "),e.xp6(6),e.hij(" ",e.lcZ(38,32,e.lcZ(39,34,t.aired.end))," "),e.xp6(6),e.hij(" ",e.lcZ(44,36,a.genresToReadable(t.genresData))," "),e.xp6(5),e.hij(" ",e.lcZ(49,38,a.studiosToReadable(t.studiosData))," "),e.xp6(5),e.hij(" ",e.lcZ(54,40,t.rating)," "),e.xp6(5),e.hij(" ",e.lcZ(59,42,a.source.toReadable(t.source))," "),e.xp6(5),e.hij(" ",e.lcZ(64,44,a.animeType.toReadable(t.type))," "),e.xp6(5),e.hij(" ",e.lcZ(69,46,a.animeStatus.toReadable(t.status))," "),e.xp6(5),e.hij(" ",e.lcZ(74,48,e.lcZ(75,50,t.created))," "),e.xp6(6),e.hij(" ",e.lcZ(80,52,e.lcZ(81,54,t.modified))," "),e.xp6(3),e.Q6J("videoUrl",t.trailerYoutubeUrl)}}function et(n,i){1&n&&e._UZ(0,"camp-spinner",12)}const nt=[{path:"",title:"Animes",component:oe,children:[{path:"",component:ze}]},{path:":id",title:"Anime",component:oe,canActivate:[()=>{const n=(0,e.f3M)(ae.K),i=(0,e.f3M)(Z.F0);return n.isAuthorized$.pipe((0,R.U)(t=>t||i.parseUrl("/auth/login")))}],children:[{path:"",component:(()=>{class n{constructor(){this.isLoading$=new $.X(!1),this.animeDetailsService=(0,e.f3M)(W),this.dialogService=(0,e.f3M)(D.uw),this.activeRoute=(0,e.f3M)(Z.gz),this.errorDialogService=(0,e.f3M)(je),this.router=(0,e.f3M)(Z.F0),this.animeStatus=f,this.animeType=s,this.rating=g,this.season=_,this.source=o,this.id$=this.createIdParamStream(),this.anime$=this.createAnimeStream()}openDialog(t,a){this.dialogService.open(Je,{data:{imageUrl:t,titleEnglish:a}})}studiosToReadable(t){return t.join(", ")}genresToReadable(t){return t.join(", ")}createIdParamStream(){return this.activeRoute.paramMap.pipe((0,R.U)(t=>t.get("id")??""))}createAnimeStream(){return this.id$.pipe(le(this.isLoading$),(0,re.w)(t=>this.animeDetailsService.getAnime(t)),(0,Be.K)(t=>(t instanceof k.UA&&this.errorDialogService.openDialog(t.message),this.router.navigate([""]),(0,qe._)(()=>t))),(0,se.f)(this.isLoading$))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["camp-anime-details-page"]],decls:4,vars:6,consts:[["class","anime",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"anime"],[1,"anime__title"],[1,"anime__details","details"],[1,"details__image-container"],[1,"details-image",3,"alt","src"],["color","primary","mat-raised-button","","type","button",3,"click"],[1,"details__description"],[1,"details__description-text"],[1,"details__description-text_bold"],[1,"details__video",3,"videoUrl"],[1,"spinner"]],template:function(t,a){1&t&&(e.YNc(0,Xe,83,56,"div",0),e.ALo(1,"async"),e.YNc(2,et,1,0,"camp-spinner",1),e.ALo(3,"async")),2&t&&(e.Q6J("ngIf",e.lcZ(1,2,a.anime$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,a.isLoading$)))},dependencies:[T.O5,ce.O,He,b.lW,T.Ov,T.uU,me,Ke],styles:[".anime[_ngcontent-%COMP%]{padding:var(--space-lg)}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:var(--background-alternative-primary-color)}.anime__details[_ngcontent-%COMP%]{display:flex;gap:var(--space-md)}.details__image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.details-image[_ngcontent-%COMP%]{max-width:350px;max-height:350px;outline:1px solid var(--image-outline-color)}.anime__title[_ngcontent-%COMP%]{text-align:center}.details__video[_ngcontent-%COMP%]{margin:0 auto}.details__description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.details__description-text[_ngcontent-%COMP%]{margin:0}.details__description-text_bold[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),n})()}]}];let it=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.Bz.forChild(nt),Z.Bz]}),n})(),at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[W],imports:[it,T.ez,X.m,M.p0,pe.Cq,w.JX,ee.TU,x.UX,F.lN,ne.c,te.LD,ie.Ps,b.ot,D.Is,X.m]}),n})()}}]);