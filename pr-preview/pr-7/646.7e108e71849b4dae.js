"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[646],{646:(ct,$,l)=>{l.r($),l.d($,{AnimeModule:()=>st});var T=l(89),H=l(2355),M=l(7513),ge=l(3058),w=l(7250),K=l(7455),x=l(6652),X=l(8090),ee=l(2074),F=l(2369),te=l(2151),b=l(1300),S=l(2227),Z=l(6789),e=l(4355),I=l(7969),ne=l(554),_e=l(7881);function he(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(n);const m=e.oxw();return e.KtG(m.handleLogout())}),e.TgZ(1,"mat-icon",6),e._uU(2,"logout"),e.qZA()()}}function ve(t,i){1&t&&(e.TgZ(0,"a",7)(1,"mat-icon",8),e._uU(2,"login"),e.qZA()())}let ie=(()=>{class t{constructor(){this.userService=(0,e.f3M)(ne.K),this.destroyRef=(0,e.f3M)(e.ktI),this.router=(0,e.f3M)(Z.F0),this.isAuthorized$=this.userService.isAuthorized$}handleLogout(){this.userService.logout().pipe((0,_e.sL)(this.destroyRef)).subscribe(()=>{this.router.navigate(["auth/login"])})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-base-page"]],decls:10,vars:4,consts:[[1,"header"],[1,"header__title"],["routerLink","/",1,"header__title-link"],["mat-icon-button","","type","button","class","header__button",3,"click",4,"ngIf","ngIfElse"],["login",""],["mat-icon-button","","type","button",1,"header__button",3,"click"],["color","accent","aria-label","Logout"],["mat-icon-button","","routerLink","/auth/login",1,"header__link"],["color","accent","aria-label","Login"]],template:function(n,a){if(1&n&&(e.TgZ(0,"header",0)(1,"h2",1)(2,"a",2),e._uU(3," AnimeHub "),e.qZA()(),e.YNc(4,he,3,0,"button",3),e.ALo(5,"async"),e.YNc(6,ve,3,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(8,"main"),e._UZ(9,"router-outlet"),e.qZA()),2&n){const m=e.MAs(7);e.xp6(4),e.Q6J("ngIf",e.lcZ(5,2,a.isAuthorized$))("ngIfElse",m)}},dependencies:[T.O5,Z.lC,Z.rH,te.Hw,b.o6,b.RK,T.Ov],styles:[".header[_ngcontent-%COMP%]{background-color:var(--primary-alternative-contrast-color);padding:var(--space-md);display:flex;justify-content:space-between;align-items:center}.header__title-link[_ngcontent-%COMP%], .header__title-link[_ngcontent-%COMP%]:visited{text-decoration:none;color:var(--primary-contrast-color)}.header__title-link[_ngcontent-%COMP%]:hover{color:var(--font-hover-color)}.header__title[_ngcontent-%COMP%]{margin:0}"]}),t})();var k=l(4121),Ae=l(2147),Y=l(8168),Te=l(3151),ae=l(1528),s=(()=>((s=s||{}).Tv="TV",s.Ova="OVA",s.Movie="MOVIE",s.Special="SPECIAL",s.Ona="ONA",s.Music="MUSIC",s.Unknown="UNKNOWN",s))();!function(t){const i={[t.Movie]:"Movie",[t.Music]:"Music",[t.Ona]:"Ona",[t.Ova]:"Ova",[t.Special]:"Special",[t.Tv]:"Tv",[t.Unknown]:"Unknown"};t.toReadable=function n(a){return i[a]}}(s||(s={}));var U,h=(()=>((h=h||{}).TitleEnghlish="titleEnglish",h.Status="status",h.AiredStart="aired.start",h.None="",h))(),v=(()=>((v=v||{}).Ascending="asc",v.Descending="desc",v.None="",v))();!function(t){function i(p){const N=Number(p);return Number.isNaN(N)?{pageNumber:t.defaultQueryParams.pageNumber,isValid:!1}:{pageNumber:N,isValid:!0}}function n(p){const N=Number(p);return Number.isNaN(N)||!t.pageSizes.includes(N)?{pageSize:t.defaultQueryParams.pageSize,isValid:!1}:{pageSize:N,isValid:!0}}function a(p){return p instanceof Array?{search:t.defaultQueryParams.search,isValid:!1}:{search:p,isValid:!0}}function m(p){const N=p instanceof Array?p:[p],R=N.filter(G=>Object.values(s).includes(G));return{isValid:R.length===N.length,type:R}}function u(p){return Object.values(h).includes(p)?{field:p,isValid:!0}:{field:h.None,isValid:!1}}function E(p){return Object.values(v).includes(p)?{direction:p,isValid:!0}:{direction:v.None,isValid:!1}}t.defaultQueryParams={pageSize:5,pageNumber:0,type:[],field:h.None,direction:v.None,search:""},t.pageSizes=[5,10,25],t.pageToModel=i,t.sizeToModel=n,t.searchToModel=a,t.typeToModel=m,t.fieldToModel=u,t.directionToModel=E,t.toModel=function lt(p){const N=i(p.pageNumber),R=n(p.pageSize),G=u(p.field),ue=m(p.type),pe=a(p.search),de=E(p.direction);return{isValid:N.isValid&&R.isValid&&G.isValid&&ue.isValid&&pe.isValid&&de.isValid,pageNumber:N.pageNumber,pageSize:R.pageSize,field:G.field,type:ue.type,search:pe.search,direction:de.direction}}}(U||(U={}));var f=(()=>((f=f||{}).Finished="FINISHED",f.Airing="AIRING",f.NotYetAired="NOT_YET_AIRED",f))();!function(t){const i={[t.Finished]:"Finished",[t.Airing]:"Airing",[t.NotYetAired]:"Not yet aired"};t.toReadable=function n(a){return i[a]}}(f||(f={}));var oe=l(4707);function re(t){return i=>i.pipe((0,Y.b)({next:()=>t.next(!0)}))}var z,L,t,se=l(6738),c=(()=>((c=c||{}).Tv="TV",c.Ova="OVA",c.Movie="MOVIE",c.Special="SPECIAL",c.Ona="ONA",c.Music="MUSIC",c.Unknown="UNKNOWN",c))(),y=(()=>((y=y||{}).Finished="FINISHED",y.Airing="AIRING",y.NotYetAired="NOT_YET_AIRED",y))();class Ne{constructor(i){this.id=i.id,this.titleEnglish=i.titleEnglish,this.titleJapanese=i.titleJapanese,this.imageUrl=i.imageUrl,this.type=i.type,this.status=i.status,this.aired=i.aired}}(z||(z={})).fromDto=function i(n){return{start:n.start?new Date(n.start):null,end:n.end?new Date(n.end):null}},(t=L||(L={})).ANIME_TYPE_FROM_DTO={[c.Music]:s.Music,[c.Ova]:s.Ova,[c.Ona]:s.Ona,[c.Special]:s.Special,[c.Tv]:s.Tv,[c.Unknown]:s.Unknown,[c.Movie]:s.Movie},t.ANIME_STATUS_FROM_DTO={[y.Finished]:f.Finished,[y.NotYetAired]:f.NotYetAired,[y.Airing]:f.Airing},t.fromDto=function i(n){return new Ne({id:n.id,titleEnglish:n.title_eng,titleJapanese:n.title_jpn,imageUrl:n.image,type:t.ANIME_TYPE_FROM_DTO[n.type],status:t.ANIME_STATUS_FROM_DTO[n.status],aired:z.fromDto(n.aired)})};var V,B,Q,q,D=(()=>((D=D||{}).TitleEnghlish="title_eng",D.Status="status",D.AiredStart="aired__startswith",D.None="",D))(),C=(()=>((C=C||{}).Ascending="-",C.Descending="",C.None="",C))();!function(t){const i={[v.Ascending]:C.Ascending,[v.Descending]:C.Descending,[v.None]:C.None};t.toDto=function n(a,m){if(null!=a&&a?.field in m)return`${i[a.direction]}${m[a.field]}`}}(V||(V={})),function(t){t.ANIME_TYPE_TO_DTO={[s.Music]:c.Music,[s.Ova]:c.Ova,[s.Ona]:c.Ona,[s.Special]:c.Special,[s.Tv]:c.Tv,[s.Unknown]:c.Unknown,[s.Movie]:c.Movie},t.toDto=function i(n){return n.map(a=>t.ANIME_TYPE_TO_DTO[a]).join(", ")}}(B||(B={})),function(t){const n={[h.TitleEnghlish]:D.TitleEnghlish,[h.Status]:D.Status,[h.AiredStart]:D.AiredStart},a={[f.Finished]:y.Finished,[f.NotYetAired]:y.NotYetAired,[f.Airing]:y.Airing};t.toDto=function m(u){return function Me(t){const i={...t};for(const n in i)void 0===i[n]&&delete i[n];return i}({limit:u?.pageSize??25,offset:u?.pageNumber?u.pageNumber*(u?.pageSize??25):void 0,ordering:V.toDto(u?.ordering,n),search:u?.search,status:u?.status?a[u.status]:void 0,type__in:u?.typeIn?B.toDto(u.typeIn):void 0})}}(Q||(Q={})),function(t){t.fromDto=function i(n,a){return{count:n.count,next:n.next,previous:n.previous,items:n.results.map(m=>a(m))}}}(q||(q={}));var _=(()=>((_=_||{}).Summer="Summer",_.Winter="Winter",_.Spring="Spring",_.Fall="Fall",_.NonSeasonal="NonSeasonal",_))();!function(t){const i={[t.Fall]:"Fail",[t.NonSeasonal]:"Non seasonal",[t.Spring]:"Spring",[t.Summer]:"Summer",[t.Winter]:"Winter"};t.toReadable=function n(a){return i[a]}}(_||(_={}));var d=(()=>((d=d||{}).G="G",d.PG="PG",d.PG_13="PG_13",d.R_17="R_17",d.R_PLUS="R_PLUS",d.R_X="R_X",d.Unknown="UNKNOWN",d))();!function(t){const i={[t.G]:"G",[t.PG]:"PG",[t.PG_13]:"PG-17",[t.R_17]:"R-17",[t.R_PLUS]:"R-PLUS",[t.R_X]:"R-X",[t.Unknown]:"Unknown"};t.toReadable=function n(a){return i[a]}}(d||(d={}));var o=(()=>((o=o||{}).FourKomaManga="FourKomaManga",o.Book="Book",o.CardGame="CardGame",o.Game="Game",o.LightNovel="LightNovel",o.Manga="Manga",o.MixedMedia="MixedMedia",o.Music="Music",o.Novel="Novel",o.Original="Original",o.PictureBook="PictureBook",o.Radio="Radio",o.VisialNovel="VisualNovel",o.WebManga="WebManga",o.WebNovel="WebNovel",o.Other="Other",o.Unknown="Unknown",o))();!function(t){const i={[t.Book]:"Book",[t.CardGame]:"Card game",[t.FourKomaManga]:"Four koma manga",[t.Game]:"Game",[t.LightNovel]:"Light novel",[t.Manga]:"Manga",[t.MixedMedia]:"Mixed Media",[t.Music]:"Music",[t.Novel]:"Novel",[t.Original]:"Original",[t.Other]:"Other",[t.PictureBook]:"Picture book",[t.WebNovel]:"Web novel",[t.WebManga]:"Web manga",[t.Radio]:"Radio",[t.Unknown]:"Unknown",[t.VisialNovel]:"Visial novel"};t.toReadable=function n(a){return i[a]}}(o||(o={}));var j,J,W,A=(()=>((A=A||{}).Summer="SUMMER",A.Winter="WINTER",A.Spring="SPRING",A.Fall="FALL",A.NonSeasonal="NON_SEASONAL",A))(),r=(()=>((r=r||{}).FourKomaManga="FOUR_KOMA_MANGA",r.Book="BOOK",r.CardGame="CARD_GAME",r.Game="GAME",r.LightNovel="LIGHT_NOVEL",r.Manga="MANGA",r.MixedMedia="MIXED_MEDIA",r.Music="MUSIC",r.Novel="NOVEL",r.Original="ORIGINAL",r.PictureBook="PICTURE_BOOK",r.Radio="RADIO",r.VisialNovel="VISUAL_NOVEL",r.WebManga="WEB_MANGA",r.WebNovel="WEB_NOVEL",r.Other="OTHER",r.Unknown="UNKNOWN",r))(),g=(()=>((g=g||{}).G="G",g.PG="PG",g.PG_13="PG_13",g.R_17="R_17",g.R_PLUS="R_PLUS",g.R_X="R_X",g.Unknown="UNKNOWN",g))(),O=(()=>((O=O||{}).Demographics="DEMOGRAPHICS",O.ExplicitGenres="EXPLICIT_GENRES",O.Themes="THEMES",O.Genres="GENRES",O))(),P=(()=>((P=P||{}).Demographics="Demographics",P.ExplicitGenres="ExplicitGenres",P.Themes="Themes",P.Genres="Genres",P))();!function(t){const i={[O.Demographics]:P.Demographics,[O.ExplicitGenres]:P.ExplicitGenres,[O.Genres]:P.Genres,[O.Themes]:P.Themes};t.fromDto=function n(a){return{id:a.id,created:new Date(a.created),modified:new Date(a.modified),name:a.name,type:i[a.type]}}}(j||(j={})),function(t){t.fromDto=function i(n){return{id:n.id,created:new Date(n.created),modified:new Date(n.modified),name:n.name}}}(J||(J={})),function(t){t.ANIME_RATING_FROM_DTO={[g.G]:d.G,[g.PG]:d.PG,[g.PG_13]:d.PG_13,[g.R_17]:d.R_17,[g.R_PLUS]:d.R_PLUS,[g.R_X]:d.R_X,[g.Unknown]:d.Unknown},t.SEASON_FROM_DTO={[A.Fall]:_.Fall,[A.NonSeasonal]:_.NonSeasonal,[A.Spring]:_.Spring,[A.Summer]:_.Summer,[A.Winter]:_.Winter},t.SOURCE_FROM_DTO={[r.Book]:o.Book,[r.CardGame]:o.CardGame,[r.FourKomaManga]:o.FourKomaManga,[r.Game]:o.Game,[r.LightNovel]:o.LightNovel,[r.Manga]:o.Manga,[r.MixedMedia]:o.MixedMedia,[r.Music]:o.Music,[r.Novel]:o.Novel,[r.Original]:o.Original,[r.Other]:o.Other,[r.PictureBook]:o.PictureBook,[r.WebNovel]:o.WebNovel,[r.WebManga]:o.WebManga,[r.VisialNovel]:o.VisialNovel,[r.Unknown]:o.Unknown,[r.Radio]:o.Radio},t.fromDto=function i(n){return{...L.fromDto({id:n.id,aired:n.aired,image:n.image,status:n.status,title_eng:n.title_eng,title_jpn:n.title_jpn,type:n.type}),airing:n.airing,created:new Date(n.created),genres:n.genres_data.map(a=>j.fromDto(a)),modified:new Date(n.modified),rating:t.ANIME_RATING_FROM_DTO[n.rating],season:t.SEASON_FROM_DTO[n.season],source:t.SOURCE_FROM_DTO[n.source],studios:n.studios_data.map(a=>J.fromDto(a)),synopsis:n.synopsis,trailerYoutubeUrl:n.trailer_youtube_id?`https://www.youtube.com/embed/${n.trailer_youtube_id}`:null}}}(W||(W={}));var Oe=l(305),Pe=l(5134);let le=(()=>{class t{constructor(){this.httpService=(0,e.f3M)(se.eN),this.urlService=(0,e.f3M)(Pe.i),this.appErrorMapper=(0,e.f3M)(Oe.z)}getAnimes(n){return this.httpService.get(this.urlService.animeUrls.animes,{params:new se.LE({fromObject:{...Q.toDto(n)}})}).pipe((0,I.U)(a=>q.fromDto(a,L.fromDto)),this.appErrorMapper.catchHttpErrorToAppError())}getAnime(n){return this.httpService.get(this.urlService.animeUrls.animesDetail(n)).pipe((0,I.U)(a=>W.fromDto(a)),this.appErrorMapper.catchHttpErrorToAppError())}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ce=l(2519),Se=l(9024);let me=(()=>{class t{transform(n){return""===n||null==n||n instanceof Array&&0===n.length?"Unknown":n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"empty",type:t,pure:!0}),t})();function Ze(t,i){if(1&t&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function De(t,i){1&t&&(e.TgZ(0,"th",25),e._uU(1,"Image"),e.qZA())}function Ue(t,i){if(1&t&&(e.TgZ(0,"td",26),e._UZ(1,"img",27),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Q6J("alt",n.titleEnglish)("src",n.imageUrl,e.LSH)}}function Ce(t,i){1&t&&(e.TgZ(0,"th",25),e._uU(1,"Japanese Title"),e.qZA())}function xe(t,i){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.titleJapanese)," ")}}function be(t,i){1&t&&(e.TgZ(0,"th",28),e._uU(1,"English Title"),e.qZA())}function Ee(t,i){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.titleEnglish)," ")}}function Ie(t,i){1&t&&(e.TgZ(0,"th",29),e._uU(1,"Start"),e.qZA())}function Re(t,i){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.ALo(2,"empty"),e.ALo(3,"date"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,n.aired.start))," ")}}function Le(t,i){1&t&&(e.TgZ(0,"th",30),e._uU(1,"Status"),e.qZA())}function Ge(t,i){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const n=i.$implicit,a=e.oxw(2);e.xp6(1),e.Oqu(a.animeStatus.toReadable(n.status))}}function we(t,i){1&t&&(e.TgZ(0,"th",25),e._uU(1,"Type"),e.qZA())}function Fe(t,i){if(1&t&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&t){const n=i.$implicit,a=e.oxw(2);e.xp6(1),e.Oqu(a.animeType.toReadable(n.type))}}function ke(t,i){1&t&&e._UZ(0,"tr",31)}function Ye(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"tr",32),e.NdJ("click",function(){const u=e.CHM(n).$implicit,E=e.oxw(2);return e.KtG(E.navigateToDetails(u))}),e.qZA()}}function ze(t,i){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"table",10),e.NdJ("matSortChange",function(m){e.CHM(n);const u=e.oxw();return e.KtG(u.changeSortParameter(m))}),e.ynx(2,11),e.YNc(3,De,2,0,"th",12),e.YNc(4,Ue,2,2,"td",13),e.BQk(),e.ynx(5,14),e.YNc(6,Ce,2,0,"th",12),e.YNc(7,xe,3,3,"td",13),e.BQk(),e.ynx(8,15),e.YNc(9,be,2,0,"th",16),e.YNc(10,Ee,3,3,"td",13),e.BQk(),e.ynx(11,17),e.YNc(12,Ie,2,0,"th",18),e.YNc(13,Re,4,5,"td",13),e.BQk(),e.ynx(14,19),e.YNc(15,Le,2,0,"th",20),e.YNc(16,Ge,2,1,"td",13),e.BQk(),e.ynx(17,21),e.YNc(18,we,2,0,"th",12),e.YNc(19,Fe,2,1,"td",13),e.BQk(),e.YNc(20,ke,1,0,"tr",22),e.YNc(21,Ye,1,0,"tr",23),e.qZA(),e.TgZ(22,"mat-paginator",24),e.NdJ("page",function(m){e.CHM(n);const u=e.oxw();return e.KtG(u.setPageParameter(m))}),e.qZA(),e.BQk()}if(2&t){const n=i.ngIf,a=e.oxw();e.xp6(1),e.Q6J("trackBy",a.trackByAnime)("dataSource",n.items)("matSortActive",a.queryParams.field)("matSortDirection",a.queryParams.direction),e.xp6(19),e.Q6J("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("length",n.count)("pageSize",a.queryParams.pageSize)("pageIndex",a.queryParams.pageNumber)("pageSizeOptions",a.pageSizes)}}function Ve(t,i){1&t&&e._UZ(0,"camp-spinner",33)}let Be=(()=>{class t{constructor(){this.pageSizes=U.pageSizes,this.isLoading$=new k.X(!1),this.animeStatus=f,this.animeType=s,this.router=(0,e.f3M)(Z.F0),this.animeService=(0,e.f3M)(le),this.formBuilder=(0,e.f3M)(x.j3),this.activeRoute=(0,e.f3M)(Z.gz),this.form=this.formBuilder.group({search:[U.defaultQueryParams.search],filters:[U.defaultQueryParams.type]}),this.displayedColumns=["image","titleJapanese","titleEnglish","start aired","type","status"],this.filters=[s.Tv,s.Ova,s.Movie,s.Special,s.Ona,s.Music,s.Unknown],this.animePage$=this.createAnimesStream()}trackByAnime(n,a){return a.id}changeSortParameter(n){const a=U.fieldToModel(n.active),m=U.directionToModel(n.direction);this.setQueryParams({direction:m.direction,field:m.direction===v.None?h.None:a.field})}setPageParameter(n){const a=this.queryParams;this.setQueryParams({pageNumber:n.pageIndex??a.pageNumber,pageSize:n.pageSize??a.pageSize})}setPaginationParameters(){this.setQueryParams({search:this.form.value.search,type:this.form.value.filters,pageNumber:U.defaultQueryParams.pageNumber})}navigateToDetails(n){this.router.navigate(["animes/",n.id])}get queryParams(){const n=this.activeRoute.snapshot.queryParams;return{search:n.search,type:n.type,pageNumber:n.pageNumber,pageSize:n.pageSize,field:n.field,direction:n.direction}}setQueryParams(n){const a=this.router.url.split("?").at(0);this.router.navigate([a],{queryParams:{...this.queryParams,...n}})}createAnimesStream(){return this.activeRoute.queryParams.pipe((0,Ae.x)(),(0,I.U)(n=>this.mapQueryParamsToModel(n)),(0,Y.b)(({isValid:n,params:a})=>{n||this.setQueryParams(a),this.setFormValues(a)}),re(this.isLoading$),(0,Te.b)(500),(0,ae.w)(({params:n})=>this.getAnimePage(n)),(0,oe.f)(this.isLoading$),(0,Y.b)(()=>{window.scroll({top:0,behavior:"smooth"})}))}mapQueryParamsToModel(n){const a=U.toModel({search:n.search,type:n.type,pageNumber:n.pageNumber,pageSize:n.pageSize,field:n.field,direction:n.direction}),{isValid:m,...u}=a;return{params:u,isValid:a.isValid}}getAnimePage(n){return this.animeService.getAnimes({pageSize:n.pageSize,pageNumber:n.pageNumber,ordering:{field:n.field,direction:n.direction},search:n.search,typeIn:n.type})}setFormValues(n){this.form.patchValue({search:n.search,filters:n.type})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-anime-page"]],decls:17,vars:8,consts:[[1,"animes"],[1,"animes__form","form",3,"formGroup","ngSubmit"],["color","accent"],["formControlName","search","matInput",""],["formControlName","filters","multiple",""],[3,"value",4,"ngFor","ngForOf"],["type","submit","mat-button","","color","accent"],[4,"ngIf"],["class","animes__spinner",4,"ngIf"],[3,"value"],["matSort","","mat-table","","aria-label","Table of animes",1,"animes__table","table",3,"trackBy","dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","image"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","titleJapanese"],["matColumnDef","titleEnglish"],["mat-sort-header","titleEnglish","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","start aired"],["mat-sort-header","aired.start","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-sort-header","status","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","table__row","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Anime search results",1,"animes__paginator",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"table__image",3,"alt","src"],["mat-sort-header","titleEnglish","mat-header-cell",""],["mat-sort-header","aired.start","mat-header-cell",""],["mat-sort-header","status","mat-header-cell",""],["mat-header-row",""],["mat-row","",1,"table__row",3,"click"],[1,"animes__spinner"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return a.setPaginationParameters()}),e.TgZ(2,"mat-form-field",2)(3,"mat-label",2),e._uU(4,"Search"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"Filters"),e.qZA(),e.TgZ(9,"mat-select",4),e.YNc(10,Ze,2,2,"mat-option",5),e.qZA()(),e.TgZ(11,"button",6),e._uU(12,"Find"),e.qZA()(),e.YNc(13,ze,23,11,"ng-container",7),e.ALo(14,"async"),e.YNc(15,Ve,1,0,"camp-spinner",8),e.ALo(16,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(9),e.Q6J("ngForOf",a.filters),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,4,a.animePage$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(16,6,a.isLoading$)))},dependencies:[T.sg,T.O5,ce.O,M.BZ,M.fO,M.as,M.w1,M.Dz,M.nj,M.ge,M.ev,M.XQ,M.Gk,w.YE,w.nU,K.NW,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,F.KE,F.hX,ee.Nt,X.gD,Se.ey,b.lW,T.Ov,T.uU,me],styles:[".table__image[_ngcontent-%COMP%]{margin:10px;width:150px;height:150px;object-fit:contain}.animes[_ngcontent-%COMP%]{background-color:var(--background-primary-color)}.animes__form[_ngcontent-%COMP%]{padding:var(--space-md);margin:0 auto}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}.animes__paginator[_ngcontent-%COMP%]{position:sticky;bottom:0}.animes__spinner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:100;background-color:var(--background-alternative-primary-color)}.table__row[_ngcontent-%COMP%]{cursor:pointer}.animes__table[_ngcontent-%COMP%]   .table__row[_ngcontent-%COMP%]:hover{background-color:var(--background-alternative-primary-color)}"],changeDetection:0}),t})(),Qe=(()=>{class t{constructor(){this.errorDialogMessage=(0,e.f3M)(S.WI)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-error-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["align","center"],["mat-raised-button","","type","button","mat-dialog-close",""]],template:function(n,a){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Opps... An error has occurred"),e.qZA(),e.TgZ(2,"p",1),e._uU(3),e.qZA(),e.TgZ(4,"mat-dialog-actions",2)(5,"button",3),e._uU(6,"Close"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(a.errorDialogMessage.message))},dependencies:[S.ZT,S.uh,S.xY,S.H8,b.lW],encapsulation:2,changeDetection:0}),t})(),qe=(()=>{class t{constructor(){this.errorDialog=(0,e.f3M)(S.uw)}openDialog(n){return this.errorDialog.open(Qe,{data:{message:n}})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var je=l(3568),Je=l(3787),We=l(447);let $e=(()=>{class t{constructor(){this.imageDialogData=(0,e.f3M)(S.WI)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-image-dialog"]],decls:2,vars:2,consts:[[1,"image",3,"alt","src"]],template:function(n,a){1&n&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"img",0),e.qZA()),2&n&&(e.xp6(1),e.Q6J("alt",a.imageDialogData.titleEnglish)("src",a.imageDialogData.imageUrl,e.LSH))},dependencies:[S.xY],styles:[".image[_ngcontent-%COMP%]{outline:1px solid var(--image-outline-color)}"],changeDetection:0}),t})();var He=l(3623);function Ke(t,i){1&t&&e._UZ(0,"iframe",1),2&t&&e.Q6J("src",i.ngIf,e.uOi)}let Xe=(()=>{class t{constructor(){this.saveVideoUrl$=new k.X(null),this.sanitizer=(0,e.f3M)(He.H7)}set videoUrl(n){this.saveVideoUrl$.next(this.sanitizer.bypassSecurityTrustResourceUrl(n))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-video-player"]],inputs:{videoUrl:"videoUrl"},decls:2,vars:3,consts:[["allowfullscreen","","class","video","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","title","YouTube video player",3,"src",4,"ngIf"],["allowfullscreen","","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","title","YouTube video player",1,"video",3,"src"]],template:function(n,a){1&n&&(e.YNc(0,Ke,1,1,"iframe",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,a.saveVideoUrl$))},dependencies:[T.O5,T.Ov],styles:[".video[_ngcontent-%COMP%]{display:block;width:560px;height:315px}"],changeDetection:0}),t})(),et=(()=>{class t{transform(n){return null!=n?n?"Yes":"No":null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"yesOrNo",type:t,pure:!0}),t})();function tt(t,i){1&t&&e._UZ(0,"camp-video-player",12),2&t&&e.Q6J("videoUrl",i.ngIf)}function nt(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e._uU(2),e.ALo(3,"empty"),e.qZA(),e.TgZ(4,"h2",3),e._uU(5),e.ALo(6,"empty"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"img",6),e.TgZ(10,"button",7),e.NdJ("click",function(){const u=e.CHM(n).ngIf,E=e.oxw();return e.KtG(E.openDialog(u.imageUrl,u.titleEnglish))}),e._uU(11," Open image "),e.qZA()(),e.TgZ(12,"article",8)(13,"p",9)(14,"span",10),e._uU(15,"Season:"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p",9)(18,"span",10),e._uU(19,"Synopsis:"),e.qZA(),e._uU(20),e.ALo(21,"empty"),e.qZA(),e.TgZ(22,"p",9)(23,"span",10),e._uU(24,"Airing:"),e.qZA(),e._uU(25),e.ALo(26,"empty"),e.ALo(27,"yesOrNo"),e.qZA(),e.TgZ(28,"p",9)(29,"span",10),e._uU(30,"Date start:"),e.qZA(),e._uU(31),e.ALo(32,"empty"),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"p",9)(35,"span",10),e._uU(36,"Date end:"),e.qZA(),e._uU(37),e.ALo(38,"empty"),e.ALo(39,"date"),e.qZA(),e.TgZ(40,"p",9)(41,"span",10),e._uU(42,"Genres:"),e.qZA(),e._uU(43),e.ALo(44,"empty"),e.qZA(),e.TgZ(45,"p",9)(46,"span",10),e._uU(47,"Studios:"),e.qZA(),e._uU(48),e.ALo(49,"empty"),e.qZA(),e.TgZ(50,"p",9)(51,"span",10),e._uU(52,"Rating:"),e.qZA(),e._uU(53),e.ALo(54,"empty"),e.qZA(),e.TgZ(55,"p",9)(56,"span",10),e._uU(57,"Source:"),e.qZA(),e._uU(58),e.ALo(59,"empty"),e.qZA(),e.TgZ(60,"p",9)(61,"span",10),e._uU(62,"Type:"),e.qZA(),e._uU(63),e.ALo(64,"empty"),e.qZA(),e.TgZ(65,"p",9)(66,"span",10),e._uU(67,"Status:"),e.qZA(),e._uU(68),e.ALo(69,"empty"),e.qZA(),e.TgZ(70,"p",9)(71,"span",10),e._uU(72,"Created:"),e.qZA(),e._uU(73),e.ALo(74,"empty"),e.ALo(75,"date"),e.qZA(),e.TgZ(76,"p",9)(77,"span",10),e._uU(78,"Modified:"),e.qZA(),e._uU(79),e.ALo(80,"empty"),e.ALo(81,"date"),e.qZA(),e.YNc(82,tt,1,1,"camp-video-player",11),e.qZA()()()}if(2&t){const n=i.ngIf,a=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,18,n.titleEnglish)),e.xp6(3),e.Oqu(e.lcZ(6,20,n.titleJapanese)),e.xp6(4),e.Q6J("alt",n.titleEnglish)("src",n.imageUrl,e.LSH),e.xp6(7),e.hij(" ",a.season.toReadable(n.season)," "),e.xp6(4),e.hij(" ",e.lcZ(21,22,n.synopsis)," "),e.xp6(5),e.hij(" ",e.lcZ(26,24,e.lcZ(27,26,n.airing))," "),e.xp6(6),e.hij(" ",e.lcZ(32,28,e.lcZ(33,30,n.aired.start))," "),e.xp6(6),e.hij(" ",e.lcZ(38,32,e.lcZ(39,34,n.aired.end))," "),e.xp6(6),e.hij(" ",e.lcZ(44,36,a.genresToReadable(n.genres))," "),e.xp6(5),e.hij(" ",e.lcZ(49,38,a.studiosToReadable(n.studios))," "),e.xp6(5),e.hij(" ",e.lcZ(54,40,n.rating)," "),e.xp6(5),e.hij(" ",e.lcZ(59,42,a.source.toReadable(n.source))," "),e.xp6(5),e.hij(" ",e.lcZ(64,44,a.animeType.toReadable(n.type))," "),e.xp6(5),e.hij(" ",e.lcZ(69,46,a.animeStatus.toReadable(n.status))," "),e.xp6(5),e.hij(" ",e.lcZ(74,48,e.lcZ(75,50,n.created))," "),e.xp6(6),e.hij(" ",e.lcZ(80,52,e.lcZ(81,54,n.modified))," "),e.xp6(3),e.Q6J("ngIf",n.trailerYoutubeUrl)}}function it(t,i){1&t&&e._UZ(0,"camp-spinner",13)}const ot=[{path:"",title:"Animes",component:ie,children:[{path:"",component:Be}]},{path:":id",title:"Anime",component:ie,canActivate:[()=>{const t=(0,e.f3M)(ne.K),i=(0,e.f3M)(Z.F0);return t.isAuthorized$.pipe((0,I.U)(n=>n||i.parseUrl("/auth/login")))}],children:[{path:"",component:(()=>{class t{constructor(){this.animeStatus=f,this.animeType=s,this.rating=d,this.season=_,this.source=o,this.isLoading$=new k.X(!1),this.animeDetailsService=(0,e.f3M)(le),this.dialogService=(0,e.f3M)(S.uw),this.activeRoute=(0,e.f3M)(Z.gz),this.errorDialogService=(0,e.f3M)(qe),this.router=(0,e.f3M)(Z.F0),this.id$=this.activeRoute.paramMap.pipe((0,I.U)(n=>n.get("id")??"")),this.anime$=this.createAnimeStream()}openDialog(n,a){this.dialogService.open($e,{data:{imageUrl:n,titleEnglish:a}})}studiosToReadable(n){return n.map(a=>a.name).join(", ")}genresToReadable(n){return n.map(a=>a.name).join(", ")}createAnimeStream(){return this.id$.pipe(re(this.isLoading$),(0,ae.w)(n=>this.animeDetailsService.getAnime(n)),(0,je.K)(n=>(n instanceof We.g&&this.errorDialogService.openDialog(n.message),this.router.navigate([""]),(0,Je._)(()=>n))),(0,oe.f)(this.isLoading$))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["camp-anime-details-page"]],decls:4,vars:6,consts:[["class","anime",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"anime"],[1,"anime__title"],[1,"anime__details","details"],[1,"details__image-container"],[1,"details-image",3,"alt","src"],["color","primary","mat-raised-button","","type","button",3,"click"],[1,"details__description"],[1,"details__description-text"],[1,"details__description-text_bold"],["class","details__video",3,"videoUrl",4,"ngIf"],[1,"details__video",3,"videoUrl"],[1,"spinner"]],template:function(n,a){1&n&&(e.YNc(0,nt,83,56,"div",0),e.ALo(1,"async"),e.YNc(2,it,1,0,"camp-spinner",1),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,a.anime$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,a.isLoading$)))},dependencies:[T.O5,ce.O,Xe,b.lW,T.Ov,T.uU,me,et],styles:[".anime[_ngcontent-%COMP%]{padding:var(--space-lg)}.spinner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:var(--background-alternative-primary-color)}.anime__details[_ngcontent-%COMP%]{display:flex;gap:var(--space-md)}.details__image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.details-image[_ngcontent-%COMP%]{max-width:350px;max-height:350px;outline:1px solid var(--image-outline-color)}.anime__title[_ngcontent-%COMP%]{text-align:center}.details__video[_ngcontent-%COMP%]{margin:0 auto}.details__description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.details__description-text[_ngcontent-%COMP%]{margin:0}.details__description-text_bold[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0}),t})()}]}];let rt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.Bz.forChild(ot),Z.Bz]}),t})(),st=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[rt,T.ez,H.m,M.p0,ge.Cq,w.JX,K.TU,x.UX,F.lN,ee.c,X.LD,te.Ps,b.ot,S.Is,H.m]}),t})()}}]);